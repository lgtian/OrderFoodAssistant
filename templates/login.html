{% extends "base.html" %}

{% block head %}
    {{ super() }}
    <title>订餐助手</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='login/login.css') }}">
{% endblock %}

{% block page_content %}
    <div class="login-view">
        <div class="login-view-content">
            <div class="view-logo-wrap">
                <div class="view-logo">
                    <span class="view-logo-text">订餐助手</span>
                    <img src="{{ url_for('static', filename='login/logo-food.jpg') }}">
                </div>
                <div class="view-logo-power-by">
                    Power by 门户组
                </div>
            </div>

            <form class="view-login" method="post" action="login">
                <div><input class="label-login-field" name="employeeId" type="text" maxlength="6" placeholder="员编"/>
                </div>
                <div><input class="label-login-field" name="pwd" type="password" placeholder="密码"/></div>

                {% if message %}
                    <div class="warning-message">
                        {{ message }}
                    </div>
                {% endif %}

                <div class="btn-login-wrap">
                    <input class="btn-login" type="submit" value="登录"/>
                </div>
            </form>
        </div>
        <div class="login-view-tip">
            <span class="register-tips">如需注册，请联系门户组同学</span>
        </div>
    </div>
{% endblock %}
{% block page_script %}
    <script>
        function init() {
            // 固定页面高度，避免软键盘弹出时将底部元素向上挤压
            let originalWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
            let originalHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
            window.resizeTo(originalWidth, originalHeight);
        }
        init();
    </script>
{% endblock %}